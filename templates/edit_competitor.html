{% extends "base.html" %}
{% block content %}

<div class="main-container">
  <h1>Edit Competitor Price â€“ {{ competitor.competitor_brand or competitor.source_name }}</h1>

  <form method="post" action="/competitors/{{ competitor.id }}/edit" class="form-grid">

    <input type="hidden" name="product_id" value="{{ competitor.product_id }}">

    <div class="form-row">
      <label for="source_name">Source Name</label>
      <input type="text" id="source_name" name="source_name" value="{{ competitor.source_name }}" required>
    </div>

    <div class="form-row">
      <label for="region">Region</label>
      <input type="text" id="region" name="region" value="{{ competitor.region or '' }}" placeholder="e.g. US East, EU, Global">
    </div>

    <div class="form-row">
      <label for="competitor_brand">Competitor Brand</label>
      <input type="text" id="competitor_brand" name="competitor_brand" value="{{ competitor.competitor_brand or '' }}">
    </div>

    <div class="form-row">
      <label for="competitor_model">Competitor Model / Pattern</label>
      <input type="text" id="competitor_model" name="competitor_model" value="{{ competitor.competitor_model or '' }}">
    </div>

    <div class="form-row">
      <label for="competitor_size">Competitor Size</label>
      <input type="text" id="competitor_size" name="competitor_size" value="{{ competitor.competitor_size or '' }}">
    </div>

    <div class="form-row">
      <label for="selling_price">Selling Price</label>
      <input type="number" step="0.01" min="0" id="selling_price" name="selling_price" value="{{ competitor.selling_price or 0 }}">
    </div>

    <div class="form-row">
      <label for="currency">Currency</label>
      <select id="currency" name="currency">
        <option value="USD" {% if competitor.currency == "USD" %}selected{% endif %}>USD</option>
        <option value="EUR" {% if competitor.currency == "EUR" %}selected{% endif %}>EUR</option>
        <option value="TRY" {% if competitor.currency == "TRY" %}selected{% endif %}>TRY</option>
      </select>
    </div>

    <div class="form-row">
      <label for="url">URL</label>
      <input type="text" id="url" name="url" value="{{ competitor.url or '' }}" placeholder="https://...">
    </div>

    <div class="form-row">
      <label for="in_stock">In Stock?</label>
      <select id="in_stock" name="in_stock">
        <option value="1" {% if competitor.in_stock %}selected{% endif %}>Yes</option>
        <option value="0" {% if not competitor.in_stock %}selected{% endif %}>No</option>
      </select>
    </div>

    <div class="form-row full-width">
      <label for="notes">Notes</label>
      <textarea id="notes" name="notes" rows="3" style="width:100%; padding:6px 8px; border-radius:4px; border:1px solid #d0d4da;">{{ competitor.notes or '' }}</textarea>
    </div>

    <div class="form-row full-width" style="margin-top:8px;">
      <button type="submit">Save Changes</button>
    </div>
  </form>
</div>

{% endblock %}

