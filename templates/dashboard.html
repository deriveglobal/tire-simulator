<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">{% extends "base.html" %}</p>
<p class="p2"><br></p>
<p class="p1">{% block content %}</p>
<p class="p1">&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>.dash-grid {</p>
<p class="p1"><span class="Apple-converted-space">    </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">    </span>grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));</p>
<p class="p1"><span class="Apple-converted-space">    </span>gap: 20px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>margin-top: 8px;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>.dash-card {</p>
<p class="p1"><span class="Apple-converted-space">    </span>background: #ffffff;</p>
<p class="p1"><span class="Apple-converted-space">    </span>border-radius: 10px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>padding: 16px 18px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>box-shadow: 0 1px 4px rgba(15, 23, 42, 0.08);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>.dash-card h2 {</p>
<p class="p1"><span class="Apple-converted-space">    </span>font-size: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">    </span>margin: 0 0 6px;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>.dash-card p {</p>
<p class="p1"><span class="Apple-converted-space">    </span>margin: 0 0 10px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>font-size: 0.85rem;</p>
<p class="p1"><span class="Apple-converted-space">    </span>color: #6b7280;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>.dashboard-title {</p>
<p class="p1"><span class="Apple-converted-space">    </span>font-size: 1.5rem;</p>
<p class="p1"><span class="Apple-converted-space">    </span>font-weight: 600;</p>
<p class="p1"><span class="Apple-converted-space">    </span>margin-bottom: 4px;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>.dashboard-subtitle {</p>
<p class="p1"><span class="Apple-converted-space">    </span>font-size: 0.9rem;</p>
<p class="p1"><span class="Apple-converted-space">    </span>color: #6b7280;</p>
<p class="p1"><span class="Apple-converted-space">    </span>margin-bottom: 16px;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1">&lt;/style&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="dashboard-title"&gt;Analytics Dashboard&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="dashboard-subtitle"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>High-level view of your product portfolio and pricing.</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="dash-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- PRODUCTS BY SEGMENT --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="dash-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;h2&gt;Products by Segment&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;p&gt;See how many SKUs you have in AG, TBR, PCR, etc.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;canvas id="segmentChart" height="160"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- PRODUCTS BY SOURCE COUNTRY --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="dash-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;h2&gt;Products by Source Country&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;p&gt;Where your current SKUs are coming from.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;canvas id="countryChart" height="160"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- AVG EXW PRICE BY SEGMENT --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="dash-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;h2&gt;Average EXW Price by Segment&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;p&gt;Average factory EXW price (only products with price &amp;gt; 0).&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;canvas id="avgPriceChart" height="160"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>// Data injected from FastAPI</p>
<p class="p1"><span class="Apple-converted-space">  </span>const segmentLabels = {{ segment_labels_json|safe }};</p>
<p class="p1"><span class="Apple-converted-space">  </span>const segmentValues = {{ segment_values_json|safe }};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const countryLabels = {{ country_labels_json|safe }};</p>
<p class="p1"><span class="Apple-converted-space">  </span>const countryValues = {{ country_values_json|safe }};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const avgSegLabels = {{ avg_seg_labels_json|safe }};</p>
<p class="p1"><span class="Apple-converted-space">  </span>const avgSegValues = {{ avg_seg_values_json|safe }};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Helper to build a simple bar chart</p>
<p class="p1"><span class="Apple-converted-space">  </span>function makeBarChart(canvasId, labels, data, labelText) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const ctx = document.getElementById(canvasId).getContext("2d");</p>
<p class="p1"><span class="Apple-converted-space">    </span>new Chart(ctx, {</p>
<p class="p1"><span class="Apple-converted-space">      </span>type: "bar",</p>
<p class="p1"><span class="Apple-converted-space">      </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>labels: labels,</p>
<p class="p1"><span class="Apple-converted-space">        </span>datasets: [</p>
<p class="p1"><span class="Apple-converted-space">          </span>{</p>
<p class="p1"><span class="Apple-converted-space">            </span>label: labelText,</p>
<p class="p1"><span class="Apple-converted-space">            </span>data: data,</p>
<p class="p1"><span class="Apple-converted-space">          </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>],</p>
<p class="p1"><span class="Apple-converted-space">      </span>},</p>
<p class="p1"><span class="Apple-converted-space">      </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>responsive: true,</p>
<p class="p1"><span class="Apple-converted-space">        </span>plugins: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>legend: { display: false },</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>scales: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>x: {</p>
<p class="p1"><span class="Apple-converted-space">            </span>ticks: {</p>
<p class="p1"><span class="Apple-converted-space">              </span>maxRotation: 45,</p>
<p class="p1"><span class="Apple-converted-space">              </span>minRotation: 0,</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">          </span>},</p>
<p class="p1"><span class="Apple-converted-space">          </span>y: {</p>
<p class="p1"><span class="Apple-converted-space">            </span>beginAtZero: true,</p>
<p class="p1"><span class="Apple-converted-space">          </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">      </span>},</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Build the charts</p>
<p class="p1"><span class="Apple-converted-space">  </span>makeBarChart("segmentChart", segmentLabels, segmentValues, "Products");</p>
<p class="p1"><span class="Apple-converted-space">  </span>makeBarChart("countryChart", countryLabels, countryValues, "Products");</p>
<p class="p1"><span class="Apple-converted-space">  </span>makeBarChart("avgPriceChart", avgSegLabels, avgSegValues, "Average EXW");</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">{% endblock %}</p>
</body>
</html>
